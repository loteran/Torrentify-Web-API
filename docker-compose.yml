services:
  torrentify-web-api:
    build:
      context: .
      args:
        - VITE_BASE_PATH=/torrentify-api
    image: torrentify-web-api:latest
    container_name: torrentify-web-api
    restart: unless-stopped
    environment:
      - BASE_PATH=/torrentify-api

    # Port web interface
    ports:
      - "3001:3000"

    env_file:
      - .env

    volumes:
      # Configuration persistante
      - ./config:/data/config

      # Acces aux montages host pour navigation fichiers et cr√©ation torrents
      - /mnt:/mnt
      - /media:/media

      # Entrees - Adaptez selon vos chemins
      # - /chemin/vers/films:/data/films
      # - /chemin/vers/series:/data/series
      # - /chemin/vers/jeux:/data/jeux

      # Sorties
      # - /chemin/vers/torrents:/data/torrent

      # Hardlinks pour Transmission (meme filesystem requis)
      # - /chemin/vers/downloads:/data/hardlinks

      # Cache TMDb
      # - /chemin/vers/cache:/data/cache_tmdb

    networks:
      - default
      - gateway-network

networks:
  default:
    name: torrentify-network
  gateway-network:
    external: true
